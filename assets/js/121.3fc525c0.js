(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{738:function(l,c,e){"use strict";e.r(c);var o=e(1),t=Object(o.a)({},(function(){var l=this,c=l.$createElement,e=l._self._c||c;return e("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[e("h1",{attrs:{id:"build-your-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#build-your-module"}},[l._v("#")]),l._v(" Build Your Module")]),l._v(" "),e("p",[l._v("You will integrate your module with the minimal chain that you "),e("RouterLink",{attrs:{to:"/hands-on-exercise/0-native/1-preparation.html"}},[l._v("cloned previously")]),l._v(". To facilitate integration and speed up feedback, you will direct the Go package manager to look for this dependency on a local disk. The simplest way is to put the module folder into a folder next to the minimal chain's folder:")],1),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBta2RpciBjaGVja2Vycy1taW5pbWFsCg=="}}),l._v(" "),e("p",[l._v("The "),e("code",[l._v("ls")]),l._v(" command should give you:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"Y2hhaW4tbWluaW1hbCAgICAgICAgICAgICAgICAgICBjaGVja2Vycy1taW5pbWFsICAgICAgICAgICAgICAgIG1pbmltYWwtbW9kdWxlLWV4YW1wbGUK"}}),l._v(" "),e("p",[l._v("You can now define the module:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjZCBjaGVja2Vycy1taW5pbWFsCiQgdG91Y2ggZ28ubW9kCg=="}}),l._v(" "),e("p",[l._v("In the new file, you define your module name and the Go version:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"bW9kdWxlIGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMKCmdvIDEuMjEK"}}),l._v(" "),e("h2",{attrs:{id:"protobuf-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protobuf-files"}},[l._v("#")]),l._v(" Protobuf files")]),l._v(" "),e("p",[l._v("On top of the "),e("em",[l._v("regular")]),l._v(" Protobuf files, like message and query types, your checkers module type will also be identified with a Protobuf file. You have chosen the package "),e("code",[l._v("github.com/alice/checkers")]),l._v(", so go ahead and create the necessary folders:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBta2RpciAtcCBwcm90by9hbGljZS9jaGVja2Vycy92MQokIG1rZGlyIC1wIHByb3RvL2FsaWNlL2NoZWNrZXJzL21vZHVsZS92MQo="}}),l._v(" "),e("h3",{attrs:{id:"module-proto"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module-proto"}},[l._v("#")]),l._v(" Module proto")]),l._v(" "),e("p",[l._v("You define your module in a new "),e("code",[l._v("proto/alice/checkers/module/v1/module.proto")]),l._v(", taking inspiration from "),e("code",[l._v("minimal-module-example")]),l._v(":")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"c3ludGF4ID0gJnF1b3Q7cHJvdG8zJnF1b3Q7OwoKcGFja2FnZSBhbGljZS5jaGVja2Vycy5tb2R1bGUudjE7CgppbXBvcnQgJnF1b3Q7Y29zbW9zL2FwcC92MWFscGhhMS9tb2R1bGUucHJvdG8mcXVvdDs7CgovLyBNb2R1bGUgaXMgdGhlIGFwcCBjb25maWcgb2JqZWN0IG9mIHRoZSBtb2R1bGUuCi8vIExlYXJuIG1vcmU6IGh0dHBzOi8vZG9jcy5jb3Ntb3MubmV0d29yay9tYWluL2J1aWxkaW5nLW1vZHVsZXMvZGVwaW5qZWN0Cm1lc3NhZ2UgTW9kdWxlIHsKICBvcHRpb24gKGNvc21vcy5hcHAudjFhbHBoYTEubW9kdWxlKSA9IHsKICAgIGdvX2ltcG9ydCA6ICZxdW90O2dpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMmcXVvdDsKICB9OwoKICAvLyBhdXRob3JpdHkgZGVmaW5lcyB0aGUgY3VzdG9tIG1vZHVsZSBhdXRob3JpdHkuCiAgLy8gaWYgbm90IHNldCwgZGVmYXVsdHMgdG8gdGhlIGdvdmVybmFuY2UgbW9kdWxlLgogIHN0cmluZyBhdXRob3JpdHkgPSAxOwp9Cg==",url:"https://github.com/b9lab/checkers-minimal/blob/initial-protobuf/proto/alice/checkers/module/v1/module.proto"}}),l._v(" "),e("HighlightBox",{attrs:{type:"note"}},[e("p",[l._v("Note how the package is "),e("code",[l._v("alice.checkers.module.v1")]),l._v(" and the message name is "),e("code",[l._v("Module")]),l._v(". This means that later on, when you integrate the module in your chain, you will identify it with:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"txt",base64:"YWxpY2UuY2hlY2tlcnMubW9kdWxlLnYxLk1vZHVsZQo="}})],1),l._v(" "),e("h3",{attrs:{id:"necessary-protobuf-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#necessary-protobuf-files"}},[l._v("#")]),l._v(" Necessary Protobuf files")]),l._v(" "),e("p",[l._v("The compilation of your Protobuf files will be done with the "),e("code",[l._v("scripts/protocgen.sh")]),l._v(" script, which you can copy from "),e("code",[l._v("minimal-module-example")]),l._v(":")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBta2RpciBzY3JpcHRzCiQgY3AgLi4vbWluaW1hbC1tb2R1bGUtZXhhbXBsZS9zY3JpcHRzL3Byb3RvY2dlbi5zaCAuL3NjcmlwdHMK"}}),l._v(" "),e("ExpansionPanel",{attrs:{title:"Content of copied file"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"IyEvdXNyL2Jpbi9lbnYgYmFzaAoKc2V0IC1lCgplY2hvICZxdW90O0dlbmVyYXRpbmcgZ29nbyBwcm90byBjb2RlJnF1b3Q7CmNkIHByb3RvCnByb3RvX2RpcnM9JChmaW5kIC4gLXBhdGggLXBydW5lIC1vIC1uYW1lICcqLnByb3RvJyAtcHJpbnQwIHwgeGFyZ3MgLTAgLW4xIGRpcm5hbWUgfCBzb3J0IHwgdW5pcSkKZm9yIGRpciBpbiAkcHJvdG9fZGlyczsgZG8KICBmb3IgZmlsZSBpbiAkKGZpbmQgJnF1b3Q7JHtkaXJ9JnF1b3Q7IC1tYXhkZXB0aCAxIC1uYW1lICcqLnByb3RvJyk7IGRvCiAgICAjIHRoaXMgcmVnZXggY2hlY2tzIGlmIGEgcHJvdG8gZmlsZSBoYXMgaXRzIGdvX3BhY2thZ2Ugc2V0IHRvIGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMvYXBpLy4uLgogICAgIyBnb2dvIHByb3RvIGZpbGVzIFNIT1VMRCBPTkxZIGJlIGdlbmVyYXRlZCBpZiB0aGlzIGlzIGZhbHNlCiAgICAjIHlvdSBkb24ndCB3YW50IGdvZ28gcHJvdG8gdG8gcnVuIGZvciBwcm90byBmaWxlcyB3aGljaCBhcmUgbmF0aXZlbHkgYnVpbHQgZm9yIGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmCiAgICBpZiBncmVwIC1xICZxdW90O29wdGlvbiBnb19wYWNrYWdlJnF1b3Q7ICZxdW90OyRmaWxlJnF1b3Q7ICZhbXA7JmFtcDsgZ3JlcCAtSCAtbyAtYyAnb3B0aW9uIGdvX3BhY2thZ2UuKmdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMvYXBpJyAmcXVvdDskZmlsZSZxdW90OyB8IGdyZXAgLXEgJzowJCc7IHRoZW4KICAgICAgYnVmIGdlbmVyYXRlIC0tdGVtcGxhdGUgYnVmLmdlbi5nb2dvLnlhbWwgJGZpbGUKICAgIGZpCiAgZG9uZQpkb25lCgplY2hvICZxdW90O0dlbmVyYXRpbmcgcHVsc2FyIHByb3RvIGNvZGUmcXVvdDsKYnVmIGdlbmVyYXRlIC0tdGVtcGxhdGUgYnVmLmdlbi5wdWxzYXIueWFtbAoKY2QgLi4KCmNwIC1yIGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMvKiAuLwpybSAtcmYgYXBpICZhbXA7JmFtcDsgbWtkaXIgYXBpCm12IGFsaWNlL2NoZWNrZXJzLyogLi9hcGkKcm0gLXJmIGdpdGh1Yi5jb20gYWxpY2UK",url:"https://github.com/b9lab/checkers-minimal/blob/initial-protobuf/scripts/protocgen.sh"}})],1),l._v(" "),e("p",[l._v("Note how it mentions two files: "),e("code",[l._v("buf.gen.gogo.yaml")]),l._v(" and "),e("code",[l._v("buf.gen.pulsar.yaml")]),l._v(". Go ahead and copy them from "),e("code",[l._v("minimal-module-example")]),l._v(". In fact, also copy "),e("code",[l._v("buf.yaml")]),l._v(" and the version lock file to avoid surprises:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjcCAuLi9taW5pbWFsLW1vZHVsZS1leGFtcGxlL3Byb3RvL2J1ZiogLi9wcm90bwo="}}),l._v(" "),e("ExpansionPanel",{attrs:{title:"Content of copied files"}},[e("CodeGroup",[e("CodeGroupItem",{attrs:{title:"buf.gen.gogo.yaml"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"dmVyc2lvbjogdjEKcGx1Z2luczoKICAtIG5hbWU6IGdvY29zbW9zCiAgICBvdXQ6IC4uCiAgICBvcHQ6IHBsdWdpbnM9Z3JwYyxNZ29vZ2xlL3Byb3RvYnVmL2FueS5wcm90bz1naXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NvZGVjL3R5cGVzLE1jb3Ntb3Mvb3JtL3YxL29ybS5wcm90bz1jb3Ntb3NzZGsuaW8vb3JtCiAgLSBuYW1lOiBncnBjLWdhdGV3YXkKICAgIG91dDogLi4KICAgIG9wdDogbG9ndG9zdGRlcnI9dHJ1ZSxhbGxvd19jb2xvbl9maW5hbF9zZWdtZW50cz10cnVlCg==",url:"https://github.com/b9lab/checkers-minimal/blob/initial-protobuf/proto/buf.gen.gogo.yaml"}})],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"buf.gen.pulsar.yaml"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"dmVyc2lvbjogdjEKbWFuYWdlZDoKICBlbmFibGVkOiB0cnVlCiAgZ29fcGFja2FnZV9wcmVmaXg6CiAgICBkZWZhdWx0OiBnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzL2FwaQogICAgZXhjZXB0OgogICAgICAtIGJ1Zi5idWlsZC9nb29nbGVhcGlzL2dvb2dsZWFwaXMKICAgICAgLSBidWYuYnVpbGQvY29zbW9zL2dvZ28tcHJvdG8KICAgICAgLSBidWYuYnVpbGQvY29zbW9zL2Nvc21vcy1wcm90bwogICAgICAtIGJ1Zi5idWlsZC9jb3Ntb3MvY29zbW9zLXNkawpwbHVnaW5zOgogIC0gbmFtZTogZ28tcHVsc2FyCiAgICBvdXQ6IC4uCiAgICBvcHQ6IHBhdGhzPXNvdXJjZV9yZWxhdGl2ZSxNY29zbW9zL2FwcC92MWFscGhhMS9tb2R1bGUucHJvdG89Y29zbW9zc2RrLmlvL2FwaS9jb3Ntb3MvYXBwL3YxYWxwaGExLE1jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4ucHJvdG89Y29zbW9zc2RrLmlvL2FwaS9jb3Ntb3MvYmFzZS92MWJldGExLE1jb3Ntb3MvYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24ucHJvdG89Y29zbW9zc2RrLmlvL2FwaS9jb3Ntb3MvYmFzZS9xdWVyeS92MWJldGExCiAgLSBuYW1lOiBnby1ncnBjCiAgICBvdXQ6IC4uCiAgICBvcHQ6IHBhdGhzPXNvdXJjZV9yZWxhdGl2ZSxNY29zbW9zL2FwcC92MWFscGhhMS9tb2R1bGUucHJvdG89Y29zbW9zc2RrLmlvL2FwaS9jb3Ntb3MvYXBwL3YxYWxwaGExCiAgLSBuYW1lOiBnby1jb3Ntb3Mtb3JtCiAgICBvdXQ6IC4uCiAgICBvcHQ6IHBhdGhzPXNvdXJjZV9yZWxhdGl2ZSxNY29zbW9zL2FwcC92MWFscGhhMS9tb2R1bGUucHJvdG89Y29zbW9zc2RrLmlvL2FwaS9jb3Ntb3MvYXBwL3YxYWxwaGExCg==",url:"https://github.com/b9lab/checkers-minimal/blob/initial-protobuf/proto/buf.gen.pulsar.yaml"}})],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"buf.lock"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"IyBHZW5lcmF0ZWQgYnkgYnVmLiBETyBOT1QgRURJVC4KdmVyc2lvbjogdjEKZGVwczoKICAtIHJlbW90ZTogYnVmLmJ1aWxkCiAgICBvd25lcjogY29zbW9zCiAgICByZXBvc2l0b3J5OiBjb3Ntb3MtcHJvdG8KICAgIGNvbW1pdDogMTkzNTU1NWMyMDZkNGFmYjllOTQ2MTVkZmQwZmFkMzEKICAgIGRpZ2VzdDogc2hha2UyNTY6Yzc0ZDkxYTNhYzdhZTA3ZDU3OWU5MGVlZTMzYWJmOWIyOTY2NDA0N2FjODgxNjUwMGNmMjJjMDgxZmVjMGQ3MmQ2MmM4OWNlMGJlYmFmYzFmNmZlYzdhYTUzMTViZTcyNjA2NzE3NzQwY2E5NTAwNzI0ODQyNTEwMmMzNjUzNzcKICAtIHJlbW90ZTogYnVmLmJ1aWxkCiAgICBvd25lcjogY29zbW9zCiAgICByZXBvc2l0b3J5OiBjb3Ntb3Mtc2RrCiAgICBjb21taXQ6IGNmMTNjN2QyMzJkZDQwNTE4MGMyYWY2MTZmYThhMDc1CiAgICBkaWdlc3Q6IHNoYWtlMjU2Ojc2OWEzOGUzMDZhOTgzMzliNTQ5YmM5Njk5MWM5N2ZhZThiZDNjZWIxYTc2NDZjN2JmZTlhNzRlNDA2YWIwNjgzNzI5NzBmYmM1YWJkYTE4OTFlMmYzYzM2NTI3Y2YyZDNhMjVmNjMxNzM5ZDM2OTAwNzg3MjI2ZTU2NGJiNjEyCiAgLSByZW1vdGU6IGJ1Zi5idWlsZAogICAgb3duZXI6IGNvc21vcwogICAgcmVwb3NpdG9yeTogZ29nby1wcm90bwogICAgY29tbWl0OiA1ZTViOWZkZDAxODA0MzU2ODk1ZjhmNzlhNmYxZGRjMQogICAgZGlnZXN0OiBzaGFrZTI1NjowYjg1ZGE0OWUyZTVmOWViYzQ4MDZlYWUwNThlMmY1NjA5NmZmM2IxYzU5ZDFmYjdjMTkwNDEzZGQxNWY0NWRkNDU2ZjBiNjljZWQ5MDU5MzQxYzgwNzk1ZDJiNmM5NDNkZTE1YjEyMGE5ZTAzMDhiNDk5ZTQzZTRiNWZjMjk1MgogIC0gcmVtb3RlOiBidWYuYnVpbGQKICAgIG93bmVyOiBnb29nbGVhcGlzCiAgICByZXBvc2l0b3J5OiBnb29nbGVhcGlzCiAgICBjb21taXQ6IDI4MTUxYzBkMGExNjQxYmY5MzhhNzY3MmM1MDBlMDFkCiAgICBkaWdlc3Q6IHNoYWtlMjU2OjQ5MjE1ZWRmOGVmNTdmNzg2MzAwNDUzOWRlZmY4ODM0Y2ZiMjE5NTExM2YwYjg5MGRkMWY2NzgxNWQ5MzUzZTI4ZTY2ODAxOTE2NWI5ZDg3MjM5NTg3MWVlYWZjYmFiM2NjZmRiMmI1ZjExNzM0ZDNjY2E5NWJlOWU4ZDEzOWRlCiAgLSByZW1vdGU6IGJ1Zi5idWlsZAogICAgb3duZXI6IHByb3RvY29sYnVmZmVycwogICAgcmVwb3NpdG9yeTogd2VsbGtub3dudHlwZXMKICAgIGNvbW1pdDogNjU3MjUwZTZhMzk2NDhjYmIxNjlkMDc5YTYwYmQ5YmEKICAgIGRpZ2VzdDogc2hha2UyNTY6MDBkZTI1MDAxYjhkZDJlMjlkODVmYzRiY2MzZWRlN2FlZDg4NmQ3NmQ2N2Y1ZTBmN2E5YjMyMGI5MGY4NzFkM2ViNzM1MDdkNTA4MThkODIzYTA1MTJmM2Y4ZGI3N2ExMWMwNDM2ODU1Mjg0MDNlMzFmZjNmZWYxODMyM2E5ZmIK",url:"https://github.com/b9lab/checkers-minimal/blob/initial-protobuf/proto/buf.lock"}})],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"buf.yaml"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"dmVyc2lvbjogdjEKZGVwczoKICAtIGJ1Zi5idWlsZC9jb3Ntb3MvY29zbW9zLXNkayAjIHBpbiB0aGUgQ29zbW9zIFNESyB2ZXJzaW9uCiAgLSBidWYuYnVpbGQvY29zbW9zL2Nvc21vcy1wcm90bwogIC0gYnVmLmJ1aWxkL2Nvc21vcy9nb2dvLXByb3RvCiAgLSBidWYuYnVpbGQvZ29vZ2xlYXBpcy9nb29nbGVhcGlzCmxpbnQ6CiAgdXNlOgogICAgLSBERUZBVUxUCiAgICAtIENPTU1FTlRTCiAgICAtIEZJTEVfTE9XRVJfU05BS0VfQ0FTRQogIGV4Y2VwdDoKICAgIC0gVU5BUllfUlBDCiAgICAtIENPTU1FTlRfRklFTEQKICAgIC0gU0VSVklDRV9TVUZGSVgKICAgIC0gUEFDS0FHRV9WRVJTSU9OX1NVRkZJWAogICAgLSBSUENfUkVRVUVTVF9TVEFOREFSRF9OQU1FCg==",url:"https://github.com/b9lab/checkers-minimal/blob/initial-protobuf/proto/buf.yaml"}})],1)],1)],1),l._v(" "),e("p",[l._v("To make your life easier, "),e("code",[l._v("minimal-module-example")]),l._v(" also provides a "),e("code",[l._v("make")]),l._v(" target to compile all the Protobuf files. Copy the whole "),e("code",[l._v("Makefile")]),l._v(":")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBjcCAuLi9taW5pbWFsLW1vZHVsZS1leGFtcGxlL01ha2VmaWxlIC4K"}}),l._v(" "),e("ExpansionPanel",{attrs:{title:"Content of copied file"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"lang-makefile",base64:"IyEvdXNyL2Jpbi9tYWtlIC1mCgpET0NLRVIgOj0gJChzaGVsbCB3aGljaCBkb2NrZXIpCgojIyMjIyMjIyMjIyMjIyMjIwojIyMgICBCdWlsZCAgICMjIwojIyMjIyMjIyMjIyMjIyMjIwoKdGVzdDoKICAgIEBlY2hvICZxdW90Oy0tJmd0OyBSdW5uaW5nIHRlc3RzJnF1b3Q7CiAgICBnbyB0ZXN0IC12IC4vLi4uCgp0ZXN0LWludGVncmF0aW9uOgogICAgQGVjaG8gJnF1b3Q7LS0mZ3Q7IFJ1bm5pbmcgaW50ZWdyYXRpb24gdGVzdHMmcXVvdDsKICAgIGNkIGludGVncmF0aW9uOyBnbyB0ZXN0IC12IC4vLi4uCgouUEhPTlk6IHRlc3QgdGVzdC1pbnRlZ3JhdGlvbgoKIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyAgUHJvdG9idWYgICMjIwojIyMjIyMjIyMjIyMjIyMjIyMKCnByb3RvVmVyPTAuMTQuMApwcm90b0ltYWdlTmFtZT1naGNyLmlvL2Nvc21vcy9wcm90by1idWlsZGVyOiQocHJvdG9WZXIpCnByb3RvSW1hZ2U9JChET0NLRVIpIHJ1biAtLXJtIC12ICQoQ1VSRElSKTovd29ya3NwYWNlIC0td29ya2RpciAvd29ya3NwYWNlICQocHJvdG9JbWFnZU5hbWUpCgpwcm90by1hbGw6IHByb3RvLWZvcm1hdCBwcm90by1saW50IHByb3RvLWdlbgoKcHJvdG8tZ2VuOgogICAgQGVjaG8gJnF1b3Q7R2VuZXJhdGluZyBwcm90b2J1ZiBmaWxlcy4uLiZxdW90OwogICAgQCQocHJvdG9JbWFnZSkgc2ggLi9zY3JpcHRzL3Byb3RvY2dlbi5zaAogICAgQGdvIG1vZCB0aWR5Cgpwcm90by1mb3JtYXQ6CiAgICBAJChwcm90b0ltYWdlKSBmaW5kIC4vIC1uYW1lICZxdW90OyoucHJvdG8mcXVvdDsgLWV4ZWMgY2xhbmctZm9ybWF0IC1pIHt9IFw7Cgpwcm90by1saW50OgogICAgQCQocHJvdG9JbWFnZSkgYnVmIGxpbnQgcHJvdG8vIC0tZXJyb3ItZm9ybWF0PWpzb24KCi5QSE9OWTogcHJvdG8tYWxsIHByb3RvLWdlbiBwcm90by1mb3JtYXQgcHJvdG8tbGludAoKIyMjIyMjIyMjIyMjIyMjIyMKIyMjICBMaW50aW5nICAjIyMKIyMjIyMjIyMjIyMjIyMjIyMKCmdvbGFuZ2NpX2xpbnRfY21kPWdvbGFuZ2NpLWxpbnQKZ29sYW5nY2lfdmVyc2lvbj12MS41MS4yCgpsaW50OgogICAgQGVjaG8gJnF1b3Q7LS0mZ3Q7IFJ1bm5pbmcgbGludGVyJnF1b3Q7CiAgICBAZ28gaW5zdGFsbCBnaXRodWIuY29tL2dvbGFuZ2NpL2dvbGFuZ2NpLWxpbnQvY21kL2dvbGFuZ2NpLWxpbnRAJChnb2xhbmdjaV92ZXJzaW9uKQogICAgQCQoZ29sYW5nY2lfbGludF9jbWQpIHJ1biAuLy4uLiAtLXRpbWVvdXQgMTVtCgpsaW50LWZpeDoKICAgIEBlY2hvICZxdW90Oy0tJmd0OyBSdW5uaW5nIGxpbnRlciBhbmQgZml4aW5nIGlzc3VlcyZxdW90OwogICAgQGdvIGluc3RhbGwgZ2l0aHViLmNvbS9nb2xhbmdjaS9nb2xhbmdjaS1saW50L2NtZC9nb2xhbmdjaS1saW50QCQoZ29sYW5nY2lfdmVyc2lvbikKICAgIEAkKGdvbGFuZ2NpX2xpbnRfY21kKSBydW4gLi8uLi4gLS1maXggLS10aW1lb3V0IDE1bQoKLlBIT05ZOiBsaW50IGxpbnQtZml4Cg==",url:"https://github.com/b9lab/checkers-minimal/blob/initial-protobuf/Makefile"}})],1),l._v(" "),e("p",[l._v("Note how it uses the "),e("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/pkgs/container/proto-builder/119928846?tag=0.14.0",target:"_blank",rel:"noopener noreferrer"}},[e("code",[l._v("ghcr.io/cosmos/proto-builder:0.14.0")]),e("OutboundLink")],1),l._v(" Docker image here to run the "),e("code",[l._v("protocgen.sh")]),l._v(" script. This helps with making sure all necessary software is available.")]),l._v(" "),e("h3",{attrs:{id:"first-protobuf-compilation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#first-protobuf-compilation"}},[l._v("#")]),l._v(" First Protobuf compilation")]),l._v(" "),e("p",[l._v("Before you run the compilation, because you have not yet defined any Protobuf files for messages, you can comment out this "),e("code",[l._v("protocgen.sh")]),l._v(" line:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-sh",base64:"LSAgIGNwIC1yIGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMvKiAuLworICAgIyBjcCAtciBnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzLyogLi8K",url:"https://github.com/b9lab/checkers-minimal/compare/initial-protobuf..prevent-error#diff-63113d53e02a4e334ffa1a1ba0c308329c7acd431153571a2c02ce9268af5816R24"}}),l._v(" "),e("p",[l._v("Now run the compilation:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBtYWtlIHByb3RvLWdlbgo="}}),l._v(" "),e("p",[l._v("This creates a new "),e("a",{attrs:{href:"https://github.com/b9lab/checkers-minimal/blob/first-proto-gen/api/module/v1/module.pulsar.go",target:"_blank",rel:"noopener noreferrer"}},[e("code",[l._v("api/module/v1/module.pulsar.go")]),e("OutboundLink")],1),l._v(" file and updates your "),e("code",[l._v("go.mod")]),l._v(". It also creates a new "),e("code",[l._v("go.sum")]),l._v(".")]),l._v(" "),e("p",[l._v("Now you need a couple more Protobuf files.")]),l._v(" "),e("h3",{attrs:{id:"minimum-protobuf-objects"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#minimum-protobuf-objects"}},[l._v("#")]),l._v(" Minimum Protobuf objects")]),l._v(" "),e("p",[l._v("You are not defining your games, messages, and queries just yet. However, you already define the facts that your module:")]),l._v(" "),e("ul",[e("li",[l._v("Has a genesis, which has a type.")]),l._v(" "),e("li",[l._v("Uses params, which also have a type.")])]),l._v(" "),e("p",[l._v("Go ahead and define them in a new "),e("code",[l._v("proto/alice/checkers/v1/types.proto")]),l._v(", taking inspiration from "),e("code",[l._v("minimal-module-example")]),l._v(":")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"c3ludGF4ID0gJnF1b3Q7cHJvdG8zJnF1b3Q7OwpwYWNrYWdlIGFsaWNlLmNoZWNrZXJzLnYxOwoKb3B0aW9uIGdvX3BhY2thZ2UgPSAmcXVvdDtnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzJnF1b3Q7OwoKaW1wb3J0ICZxdW90O2Nvc21vc19wcm90by9jb3Ntb3MucHJvdG8mcXVvdDs7CmltcG9ydCAmcXVvdDtnb2dvcHJvdG8vZ29nby5wcm90byZxdW90OzsKCi8vIFBhcmFtcyBkZWZpbmVzIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBtb2R1bGUuCm1lc3NhZ2UgUGFyYW1zIHt9CgovLyBHZW5lc2lzU3RhdGUgaXMgdGhlIHN0YXRlIHRoYXQgbXVzdCBiZSBwcm92aWRlZCBhdCBnZW5lc2lzLgptZXNzYWdlIEdlbmVzaXNTdGF0ZSB7CiAgLy8gcGFyYW1zIGRlZmluZXMgYWxsIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBtb2R1bGUuCiAgUGFyYW1zIHBhcmFtcyA9IDEgWyAoZ29nb3Byb3RvLm51bGxhYmxlKSA9IGZhbHNlIF07Cn0K",url:"https://github.com/b9lab/checkers-minimal/blob/first-types/proto/alice/checkers/v1/types.proto"}}),l._v(" "),e("p",[l._v("Because you added a new Protobuf file, you need to compile it too. Uncomment the "),e("code",[l._v("cp")]),l._v(" line in "),e("code",[l._v("protocgen.sh")]),l._v(":")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-sh",base64:"LSAgICMgY3AgLXIgZ2l0aHViLmNvbS9hbGljZS9jaGVja2Vycy8qIC4vCisgICBjcCAtciBnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzLyogLi8K"}}),l._v(" "),e("p",[l._v("And run it:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBtYWtlIHByb3RvLWdlbgo="}}),l._v(" "),e("HighlightBox",{attrs:{type:"note",title:"Troubleshooting"}},[e("p",[l._v("If the process tells you that it downloads a Cosmos SDK version different from 0.50.1, make sure to manually edit your "),e("code",[l._v("go.mod")]),l._v(" after the fact.")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff",base64:"LSAgICAgICBnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrIHYwLjQ3LjUKKyAgICAgICBnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrIHYwLjUwLjEK",url:"https://github.com/b9lab/checkers-minimal/blob/root-files/go.mod#L8"}}),l._v(" "),e("p",[l._v("Next, tidy up the dependencies:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnbyBtb2QgdGlkeQo="}})],1),l._v(" "),e("p",[l._v("The script has created two new files: "),e("code",[l._v("api/v1/types.pulsar.go")]),l._v(" and "),e("code",[l._v("types.pb.go")]),l._v(".")]),l._v(" "),e("p",[l._v("Your module is not viable yet. You need to define it and at least have it conform to the interface expected by an app, in this case "),e("code",[l._v("chain-minimal")]),l._v(".")]),l._v(" "),e("h2",{attrs:{id:"module-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module-interface"}},[l._v("#")]),l._v(" Module interface")]),l._v(" "),e("p",[l._v("Once again, you can take inspiration from "),e("code",[l._v("minimal-module-example")]),l._v(".")]),l._v(" "),e("h3",{attrs:{id:"general-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-files"}},[l._v("#")]),l._v(" General files")]),l._v(" "),e("p",[l._v("Prepare the basics around codec, params, genesis, and module name. You can keep them in the root folder:")]),l._v(" "),e("CodeGroup",[e("CodeGroupItem",{attrs:{title:"codec.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjaGVja2VycwoKaW1wb3J0ICgKICAgIHR5cGVzICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY29kZWMvdHlwZXMmcXVvdDsKKQoKLy8gUmVnaXN0ZXJJbnRlcmZhY2VzIHJlZ2lzdGVycyB0aGUgaW50ZXJmYWNlcyB0eXBlcyB3aXRoIHRoZSBpbnRlcmZhY2UgcmVnaXN0cnkuCmZ1bmMgUmVnaXN0ZXJJbnRlcmZhY2VzKHJlZ2lzdHJ5IHR5cGVzLkludGVyZmFjZVJlZ2lzdHJ5KSB7Cn0K",url:"https://github.com/b9lab/checkers-minimal/blob/root-files/codec.go"}}),l._v(" "),e("p",[l._v("You do not have message and query definitions, so you can keep the function body empty.")])],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"params.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjaGVja2VycwoKLy8gRGVmYXVsdFBhcmFtcyByZXR1cm5zIGRlZmF1bHQgbW9kdWxlIHBhcmFtZXRlcnMuCmZ1bmMgRGVmYXVsdFBhcmFtcygpIFBhcmFtcyB7CiAgICByZXR1cm4gUGFyYW1zewogICAgICAgIC8vIFNldCBkZWZhdWx0IHZhbHVlcyBoZXJlLgogICAgfQp9CgovLyBWYWxpZGF0ZSBkb2VzIHRoZSBzYW5pdHkgY2hlY2sgb24gdGhlIHBhcmFtcy4KZnVuYyAocCBQYXJhbXMpIFZhbGlkYXRlKCkgZXJyb3IgewogICAgLy8gU2FuaXR5IGNoZWNrIGdvZXMgaGVyZS4KICAgIHJldHVybiBuaWwKfQo=",url:"https://github.com/b9lab/checkers-minimal/blob/root-files/params.go"}}),l._v(" "),e("p",[l._v("There is nothing to define except the default functions.")])],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"genesis.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjaGVja2VycwoKLy8gTmV3R2VuZXNpc1N0YXRlIGNyZWF0ZXMgYSBuZXcgZ2VuZXNpcyBzdGF0ZSB3aXRoIGRlZmF1bHQgdmFsdWVzLgpmdW5jIE5ld0dlbmVzaXNTdGF0ZSgpICpHZW5lc2lzU3RhdGUgewogICAgcmV0dXJuICZhbXA7R2VuZXNpc1N0YXRlewogICAgICAgIFBhcmFtczogRGVmYXVsdFBhcmFtcygpLAogICAgfQp9CgovLyBWYWxpZGF0ZSBwZXJmb3JtcyBiYXNpYyBnZW5lc2lzIHN0YXRlIHZhbGlkYXRpb24gcmV0dXJuaW5nIGFuIGVycm9yIHVwb24gYW55CmZ1bmMgKGdzICpHZW5lc2lzU3RhdGUpIFZhbGlkYXRlKCkgZXJyb3IgewogICAgaWYgZXJyIDo9IGdzLlBhcmFtcy5WYWxpZGF0ZSgpOyBlcnIgIT0gbmlsIHsKICAgICAgICByZXR1cm4gZXJyCiAgICB9CgogICAgcmV0dXJuIG5pbAp9Cg==",url:"https://github.com/b9lab/checkers-minimal/blob/root-files/genesis.go"}}),l._v(" "),e("p",[l._v("You have not yet defined any storage, other than "),e("code",[l._v("Params")]),l._v(", so this is simple.")])],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"keys.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjaGVja2VycwoKaW1wb3J0ICZxdW90O2Nvc21vc3Nkay5pby9jb2xsZWN0aW9ucyZxdW90OwoKY29uc3QgTW9kdWxlTmFtZSA9ICZxdW90O2NoZWNrZXJzJnF1b3Q7Cgp2YXIgKAogICAgUGFyYW1zS2V5ICA9IGNvbGxlY3Rpb25zLk5ld1ByZWZpeCgmcXVvdDtQYXJhbXMmcXVvdDspCikK",url:"https://github.com/b9lab/checkers-minimal/blob/root-files/keys.go"}}),l._v(" "),e("p",[l._v("For now, all you need is the module's name and the storage key at which you can find the params.")])],1)],1),l._v(" "),e("hr"),l._v(" "),e("p",[l._v("The files have a lot of missing dependencies, so go ahead and, once more, run:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnbyBtb2QgdGlkeQo="}}),l._v(" "),e("p",[l._v("See the previous troubleshoot if it updates to a "),e("code",[l._v("cosmos-sdk")]),l._v(" other than "),e("code",[l._v("v0.50.1")]),l._v(".")]),l._v(" "),e("p",[l._v("With this done, you can move to defining some necessary functions of the module's keeper.")]),l._v(" "),e("h3",{attrs:{id:"keeper-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keeper-files"}},[l._v("#")]),l._v(" Keeper files")]),l._v(" "),e("p",[l._v("Again "),e("code",[l._v("minimal-module-example")]),l._v(" is a good guide. Create the keeper folder:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBta2RpciBrZWVwZXIK"}}),l._v(" "),e("p",[l._v("In it, you define what the keeper holds, its genesis actions, and eventually its message and query servers:")]),l._v(" "),e("CodeGroup",[e("CodeGroupItem",{attrs:{title:"keeper.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBrZWVwZXIKCmltcG9ydCAoCiAgICAmcXVvdDtmbXQmcXVvdDsKCiAgICAmcXVvdDtjb3Ntb3NzZGsuaW8vY29sbGVjdGlvbnMmcXVvdDsKICAgICZxdW90O2Nvc21vc3Nkay5pby9jb3JlL2FkZHJlc3MmcXVvdDsKICAgIHN0b3JldHlwZXMgJnF1b3Q7Y29zbW9zc2RrLmlvL2NvcmUvc3RvcmUmcXVvdDsKICAgICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY29kZWMmcXVvdDsKCiAgICAmcXVvdDtnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzJnF1b3Q7CikKCnR5cGUgS2VlcGVyIHN0cnVjdCB7CiAgICBjZGMgICAgICAgICAgY29kZWMuQmluYXJ5Q29kZWMKICAgIGFkZHJlc3NDb2RlYyBhZGRyZXNzLkNvZGVjCgogICAgLy8gYXV0aG9yaXR5IGlzIHRoZSBhZGRyZXNzIGNhcGFibGUgb2YgZXhlY3V0aW5nIGEgTXNnVXBkYXRlUGFyYW1zIGFuZCBvdGhlciBhdXRob3JpdHktZ2F0ZWQgbWVzc2FnZS4KICAgIC8vIHR5cGljYWxseSwgdGhpcyBzaG91bGQgYmUgdGhlIHgvZ292IG1vZHVsZSBhY2NvdW50LgogICAgYXV0aG9yaXR5IHN0cmluZwoKICAgIC8vIHN0YXRlIG1hbmFnZW1lbnQKICAgIFNjaGVtYSBjb2xsZWN0aW9ucy5TY2hlbWEKICAgIFBhcmFtcyBjb2xsZWN0aW9ucy5JdGVtW2NoZWNrZXJzLlBhcmFtc10KfQoKLy8gTmV3S2VlcGVyIGNyZWF0ZXMgYSBuZXcgS2VlcGVyIGluc3RhbmNlCmZ1bmMgTmV3S2VlcGVyKGNkYyBjb2RlYy5CaW5hcnlDb2RlYywgYWRkcmVzc0NvZGVjIGFkZHJlc3MuQ29kZWMsIHN0b3JlU2VydmljZSBzdG9yZXR5cGVzLktWU3RvcmVTZXJ2aWNlLCBhdXRob3JpdHkgc3RyaW5nKSBLZWVwZXIgewogICAgaWYgXywgZXJyIDo9IGFkZHJlc3NDb2RlYy5TdHJpbmdUb0J5dGVzKGF1dGhvcml0eSk7IGVyciAhPSBuaWwgewogICAgICAgIHBhbmljKGZtdC5FcnJvcmYoJnF1b3Q7aW52YWxpZCBhdXRob3JpdHkgYWRkcmVzczogJXcmcXVvdDssIGVycikpCiAgICB9CgogICAgc2IgOj0gY29sbGVjdGlvbnMuTmV3U2NoZW1hQnVpbGRlcihzdG9yZVNlcnZpY2UpCiAgICBrIDo9IEtlZXBlcnsKICAgICAgICBjZGM6ICAgICAgICAgIGNkYywKICAgICAgICBhZGRyZXNzQ29kZWM6IGFkZHJlc3NDb2RlYywKICAgICAgICBhdXRob3JpdHk6ICAgIGF1dGhvcml0eSwKICAgICAgICBQYXJhbXM6ICAgICAgIGNvbGxlY3Rpb25zLk5ld0l0ZW0oc2IsIGNoZWNrZXJzLlBhcmFtc0tleSwgJnF1b3Q7cGFyYW1zJnF1b3Q7LCBjb2RlYy5Db2xsVmFsdWVbY2hlY2tlcnMuUGFyYW1zXShjZGMpKSwKICAgIH0KCiAgICBzY2hlbWEsIGVyciA6PSBzYi5CdWlsZCgpCiAgICBpZiBlcnIgIT0gbmlsIHsKICAgICAgICBwYW5pYyhlcnIpCiAgICB9CgogICAgay5TY2hlbWEgPSBzY2hlbWEKCiAgICByZXR1cm4gawp9CgovLyBHZXRBdXRob3JpdHkgcmV0dXJucyB0aGUgbW9kdWxlJ3MgYXV0aG9yaXR5LgpmdW5jIChrIEtlZXBlcikgR2V0QXV0aG9yaXR5KCkgc3RyaW5nIHsKICAgIHJldHVybiBrLmF1dGhvcml0eQp9Cg==",url:"https://github.com/b9lab/checkers-minimal/blob/keeper-files/keeper/keeper.go"}}),l._v(" "),e("p",[l._v("With this one, it helps to have a model to copy from.")])],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"genesis.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBrZWVwZXIKCmltcG9ydCAoCiAgICAmcXVvdDtjb250ZXh0JnF1b3Q7CgogICAgJnF1b3Q7Z2l0aHViLmNvbS9hbGljZS9jaGVja2VycyZxdW90OwopCgovLyBJbml0R2VuZXNpcyBpbml0aWFsaXplcyB0aGUgbW9kdWxlIHN0YXRlIGZyb20gYSBnZW5lc2lzIHN0YXRlLgpmdW5jIChrICpLZWVwZXIpIEluaXRHZW5lc2lzKGN0eCBjb250ZXh0LkNvbnRleHQsIGRhdGEgKmNoZWNrZXJzLkdlbmVzaXNTdGF0ZSkgZXJyb3IgewogICAgaWYgZXJyIDo9IGsuUGFyYW1zLlNldChjdHgsIGRhdGEuUGFyYW1zKTsgZXJyICE9IG5pbCB7CiAgICAgICAgcmV0dXJuIGVycgogICAgfQoKICAgIHJldHVybiBuaWwKfQoKLy8gRXhwb3J0R2VuZXNpcyBleHBvcnRzIHRoZSBtb2R1bGUgc3RhdGUgdG8gYSBnZW5lc2lzIHN0YXRlLgpmdW5jIChrICpLZWVwZXIpIEV4cG9ydEdlbmVzaXMoY3R4IGNvbnRleHQuQ29udGV4dCkgKCpjaGVja2Vycy5HZW5lc2lzU3RhdGUsIGVycm9yKSB7CiAgICBwYXJhbXMsIGVyciA6PSBrLlBhcmFtcy5HZXQoY3R4KQogICAgaWYgZXJyICE9IG5pbCB7CiAgICAgICAgcmV0dXJuIG5pbCwgZXJyCiAgICB9CgogICAgcmV0dXJuICZhbXA7Y2hlY2tlcnMuR2VuZXNpc1N0YXRlewogICAgICAgIFBhcmFtczogcGFyYW1zLAogICAgfSwgbmlsCn0K",url:"https://github.com/b9lab/checkers-minimal/blob/keeper-files/keeper/genesis.go"}})],1)],1),l._v(" "),e("hr"),l._v(" "),e("p",[l._v("You may need to run "),e("code",[l._v("go mod tidy")]),l._v(" again.")]),l._v(" "),e("p",[l._v("At the moment you have not defined any message or query types, so you do not bother with defining the corresponding servers.")]),l._v(" "),e("h3",{attrs:{id:"module-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module-files"}},[l._v("#")]),l._v(" Module files")]),l._v(" "),e("p",[l._v("To be correctly called, the module needs to conform to the "),e("code",[l._v("chain-minimal")]),l._v(" expectations. You define functions for the module, the dependency injection, and accessorily to open the possibility to add CLI commands. Create the "),e("code",[l._v("module")]),l._v(" folder:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBta2RpciBtb2R1bGUK"}}),l._v(" "),e("p",[l._v("In it, again copying from "),e("code",[l._v("minimal-module-example")]),l._v(":")]),l._v(" "),e("CodeGroup",[e("CodeGroupItem",{attrs:{title:"module.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBtb2R1bGUKCmltcG9ydCAoCiAgICAmcXVvdDtlbmNvZGluZy9qc29uJnF1b3Q7CiAgICAmcXVvdDtmbXQmcXVvdDsKCiAgICAmcXVvdDtjb3Ntb3NzZGsuaW8vY29yZS9hcHBtb2R1bGUmcXVvdDsKICAgIGd3cnVudGltZSAmcXVvdDtnaXRodWIuY29tL2dycGMtZWNvc3lzdGVtL2dycGMtZ2F0ZXdheS9ydW50aW1lJnF1b3Q7CgogICAgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9jbGllbnQmcXVvdDsKICAgICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY29kZWMmcXVvdDsKICAgIGNvZGVjdHlwZXMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9jb2RlYy90eXBlcyZxdW90OwogICAgc2RrICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvdHlwZXMmcXVvdDsKICAgICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvdHlwZXMvbW9kdWxlJnF1b3Q7CgogICAgJnF1b3Q7Z2l0aHViLmNvbS9hbGljZS9jaGVja2VycyZxdW90OwogICAgJnF1b3Q7Z2l0aHViLmNvbS9hbGljZS9jaGVja2Vycy9rZWVwZXImcXVvdDsKKQoKdmFyICgKICAgIF8gbW9kdWxlLkFwcE1vZHVsZUJhc2ljID0gQXBwTW9kdWxle30KICAgIF8gbW9kdWxlLkhhc0dlbmVzaXMgICAgID0gQXBwTW9kdWxle30KICAgIF8gYXBwbW9kdWxlLkFwcE1vZHVsZSAgID0gQXBwTW9kdWxle30KKQoKLy8gQ29uc2Vuc3VzVmVyc2lvbiBkZWZpbmVzIHRoZSBjdXJyZW50IG1vZHVsZSBjb25zZW5zdXMgdmVyc2lvbi4KY29uc3QgQ29uc2Vuc3VzVmVyc2lvbiA9IDEKCnR5cGUgQXBwTW9kdWxlIHN0cnVjdCB7CiAgICBjZGMgICAgY29kZWMuQ29kZWMKICAgIGtlZXBlciBrZWVwZXIuS2VlcGVyCn0KCi8vIE5ld0FwcE1vZHVsZSBjcmVhdGVzIGEgbmV3IEFwcE1vZHVsZSBvYmplY3QKZnVuYyBOZXdBcHBNb2R1bGUoY2RjIGNvZGVjLkNvZGVjLCBrZWVwZXIga2VlcGVyLktlZXBlcikgQXBwTW9kdWxlIHsKICAgIHJldHVybiBBcHBNb2R1bGV7CiAgICAgICAgY2RjOiAgICBjZGMsCiAgICAgICAga2VlcGVyOiBrZWVwZXIsCiAgICB9Cn0KCmZ1bmMgTmV3QXBwTW9kdWxlQmFzaWMobSBBcHBNb2R1bGUpIG1vZHVsZS5BcHBNb2R1bGVCYXNpYyB7CiAgICByZXR1cm4gbW9kdWxlLkNvcmVBcHBNb2R1bGVCYXNpY0FkYXB0b3IobS5OYW1lKCksIG0pCn0KCi8vIE5hbWUgcmV0dXJucyB0aGUgY2hlY2tlcnMgbW9kdWxlJ3MgbmFtZS4KZnVuYyAoQXBwTW9kdWxlKSBOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIGNoZWNrZXJzLk1vZHVsZU5hbWUgfQoKLy8gUmVnaXN0ZXJMZWdhY3lBbWlub0NvZGVjIHJlZ2lzdGVycyB0aGUgY2hlY2tlcnMgbW9kdWxlJ3MgdHlwZXMgb24gdGhlIExlZ2FjeUFtaW5vIGNvZGVjLgovLyBOZXcgbW9kdWxlcyBkbyBub3QgbmVlZCB0byBzdXBwb3J0IEFtaW5vLgpmdW5jIChBcHBNb2R1bGUpIFJlZ2lzdGVyTGVnYWN5QW1pbm9Db2RlYyhjZGMgKmNvZGVjLkxlZ2FjeUFtaW5vKSB7fQoKLy8gUmVnaXN0ZXJHUlBDR2F0ZXdheVJvdXRlcyByZWdpc3RlcnMgdGhlIGdSUEMgR2F0ZXdheSByb3V0ZXMgZm9yIHRoZSBjaGVja2VycyBtb2R1bGUuCmZ1bmMgKEFwcE1vZHVsZSkgUmVnaXN0ZXJHUlBDR2F0ZXdheVJvdXRlcyhjbGllbnRDdHggY2xpZW50LkNvbnRleHQsIG11eCAqZ3dydW50aW1lLlNlcnZlTXV4KSB7CiAgICAvLyBpZiBlcnIgOj0gY2hlY2tlcnMuUmVnaXN0ZXJRdWVyeUhhbmRsZXJDbGllbnQoY29udGV4dC5CYWNrZ3JvdW5kKCksIG11eCwgY2hlY2tlcnMuTmV3UXVlcnlDbGllbnQoY2xpZW50Q3R4KSk7IGVyciAhPSBuaWwgewogICAgLy8gICAgIHBhbmljKGVycikKICAgIC8vIH0KfQoKLy8gUmVnaXN0ZXJJbnRlcmZhY2VzIHJlZ2lzdGVycyBpbnRlcmZhY2VzIGFuZCBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIGNoZWNrZXJzIG1vZHVsZS4KZnVuYyAoQXBwTW9kdWxlKSBSZWdpc3RlckludGVyZmFjZXMocmVnaXN0cnkgY29kZWN0eXBlcy5JbnRlcmZhY2VSZWdpc3RyeSkgewogICAgY2hlY2tlcnMuUmVnaXN0ZXJJbnRlcmZhY2VzKHJlZ2lzdHJ5KQp9CgovLyBDb25zZW5zdXNWZXJzaW9uIGltcGxlbWVudHMgQXBwTW9kdWxlL0NvbnNlbnN1c1ZlcnNpb24uCmZ1bmMgKEFwcE1vZHVsZSkgQ29uc2Vuc3VzVmVyc2lvbigpIHVpbnQ2NCB7IHJldHVybiBDb25zZW5zdXNWZXJzaW9uIH0KCi8vIFJlZ2lzdGVyU2VydmljZXMgcmVnaXN0ZXJzIGEgZ1JQQyBxdWVyeSBzZXJ2aWNlIHRvIHJlc3BvbmQgdG8gdGhlIG1vZHVsZS1zcGVjaWZpYyBnUlBDIHF1ZXJpZXMuCmZ1bmMgKGFtIEFwcE1vZHVsZSkgUmVnaXN0ZXJTZXJ2aWNlcyhjZmcgbW9kdWxlLkNvbmZpZ3VyYXRvcikgewogICAgLy8gUmVnaXN0ZXIgc2VydmVycwogICAgLy8gY2hlY2tlcnMuUmVnaXN0ZXJNc2dTZXJ2ZXIoY2ZnLk1zZ1NlcnZlcigpLCBrZWVwZXIuTmV3TXNnU2VydmVySW1wbChhbS5rZWVwZXIpKQogICAgLy8gY2hlY2tlcnMuUmVnaXN0ZXJRdWVyeVNlcnZlcihjZmcuUXVlcnlTZXJ2ZXIoKSwga2VlcGVyLk5ld1F1ZXJ5U2VydmVySW1wbChhbS5rZWVwZXIpKQoKICAgIC8vIFJlZ2lzdGVyIGluIHBsYWNlIG1vZHVsZSBzdGF0ZSBtaWdyYXRpb24gbWlncmF0aW9ucwogICAgLy8gbSA6PSBrZWVwZXIuTmV3TWlncmF0b3IoYW0ua2VlcGVyKQogICAgLy8gaWYgZXJyIDo9IGNmZy5SZWdpc3Rlck1pZ3JhdGlvbihjaGVja2Vycy5Nb2R1bGVOYW1lLCAxLCBtLk1pZ3JhdGUxdG8yKTsgZXJyICE9IG5pbCB7CiAgICAvLyAgICAgcGFuaWMoZm10LlNwcmludGYoJnF1b3Q7ZmFpbGVkIHRvIG1pZ3JhdGUgeC8lcyBmcm9tIHZlcnNpb24gMSB0byAyOiAldiZxdW90OywgY2hlY2tlcnMuTW9kdWxlTmFtZSwgZXJyKSkKICAgIC8vIH0KfQoKLy8gRGVmYXVsdEdlbmVzaXMgcmV0dXJucyBkZWZhdWx0IGdlbmVzaXMgc3RhdGUgYXMgcmF3IGJ5dGVzIGZvciB0aGUgbW9kdWxlLgpmdW5jIChBcHBNb2R1bGUpIERlZmF1bHRHZW5lc2lzKGNkYyBjb2RlYy5KU09OQ29kZWMpIGpzb24uUmF3TWVzc2FnZSB7CiAgICByZXR1cm4gY2RjLk11c3RNYXJzaGFsSlNPTihjaGVja2Vycy5OZXdHZW5lc2lzU3RhdGUoKSkKfQoKLy8gVmFsaWRhdGVHZW5lc2lzIHBlcmZvcm1zIGdlbmVzaXMgc3RhdGUgdmFsaWRhdGlvbiBmb3IgdGhlIGNpcmN1aXQgbW9kdWxlLgpmdW5jIChBcHBNb2R1bGUpIFZhbGlkYXRlR2VuZXNpcyhjZGMgY29kZWMuSlNPTkNvZGVjLCBfIGNsaWVudC5UeEVuY29kaW5nQ29uZmlnLCBieiBqc29uLlJhd01lc3NhZ2UpIGVycm9yIHsKICAgIHZhciBkYXRhIGNoZWNrZXJzLkdlbmVzaXNTdGF0ZQogICAgaWYgZXJyIDo9IGNkYy5Vbm1hcnNoYWxKU09OKGJ6LCAmYW1wO2RhdGEpOyBlcnIgIT0gbmlsIHsKICAgICAgICByZXR1cm4gZm10LkVycm9yZigmcXVvdDtmYWlsZWQgdG8gdW5tYXJzaGFsICVzIGdlbmVzaXMgc3RhdGU6ICV3JnF1b3Q7LCBjaGVja2Vycy5Nb2R1bGVOYW1lLCBlcnIpCiAgICB9CgogICAgcmV0dXJuIGRhdGEuVmFsaWRhdGUoKQp9CgovLyBJbml0R2VuZXNpcyBwZXJmb3JtcyBnZW5lc2lzIGluaXRpYWxpemF0aW9uIGZvciB0aGUgY2hlY2tlcnMgbW9kdWxlLgovLyBJdCByZXR1cm5zIG5vIHZhbGlkYXRvciB1cGRhdGVzLgpmdW5jIChhbSBBcHBNb2R1bGUpIEluaXRHZW5lc2lzKGN0eCBzZGsuQ29udGV4dCwgY2RjIGNvZGVjLkpTT05Db2RlYywgZGF0YSBqc29uLlJhd01lc3NhZ2UpIHsKICAgIHZhciBnZW5lc2lzU3RhdGUgY2hlY2tlcnMuR2VuZXNpc1N0YXRlCiAgICBjZGMuTXVzdFVubWFyc2hhbEpTT04oZGF0YSwgJmFtcDtnZW5lc2lzU3RhdGUpCgogICAgaWYgZXJyIDo9IGFtLmtlZXBlci5Jbml0R2VuZXNpcyhjdHgsICZhbXA7Z2VuZXNpc1N0YXRlKTsgZXJyICE9IG5pbCB7CiAgICAgICAgcGFuaWMoZm10LlNwcmludGYoJnF1b3Q7ZmFpbGVkIHRvIGluaXRpYWxpemUgJXMgZ2VuZXNpcyBzdGF0ZTogJXYmcXVvdDssIGNoZWNrZXJzLk1vZHVsZU5hbWUsIGVycikpCiAgICB9Cn0KCi8vIEV4cG9ydEdlbmVzaXMgcmV0dXJucyB0aGUgZXhwb3J0ZWQgZ2VuZXNpcyBzdGF0ZSBhcyByYXcgYnl0ZXMgZm9yIHRoZSBjaXJjdWl0Ci8vIG1vZHVsZS4KZnVuYyAoYW0gQXBwTW9kdWxlKSBFeHBvcnRHZW5lc2lzKGN0eCBzZGsuQ29udGV4dCwgY2RjIGNvZGVjLkpTT05Db2RlYykganNvbi5SYXdNZXNzYWdlIHsKICAgIGdzLCBlcnIgOj0gYW0ua2VlcGVyLkV4cG9ydEdlbmVzaXMoY3R4KQogICAgaWYgZXJyICE9IG5pbCB7CiAgICAgICAgcGFuaWMoZm10LlNwcmludGYoJnF1b3Q7ZmFpbGVkIHRvIGV4cG9ydCAlcyBnZW5lc2lzIHN0YXRlOiAldiZxdW90OywgY2hlY2tlcnMuTW9kdWxlTmFtZSwgZXJyKSkKICAgIH0KCiAgICByZXR1cm4gY2RjLk11c3RNYXJzaGFsSlNPTihncykKfQo=",url:"https://github.com/b9lab/checkers-minimal/blob/module-files/module/module.go"}}),l._v(" "),e("p",[l._v("Note how you comment out the lines that will eventually register the missing message and query servers and client.")])],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"depinject.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBtb2R1bGUKCmltcG9ydCAoCiAgICAmcXVvdDtjb3Ntb3NzZGsuaW8vY29yZS9hZGRyZXNzJnF1b3Q7CiAgICAmcXVvdDtjb3Ntb3NzZGsuaW8vY29yZS9hcHBtb2R1bGUmcXVvdDsKICAgICZxdW90O2Nvc21vc3Nkay5pby9jb3JlL3N0b3JlJnF1b3Q7CiAgICAmcXVvdDtjb3Ntb3NzZGsuaW8vZGVwaW5qZWN0JnF1b3Q7CgogICAgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9jb2RlYyZxdW90OwogICAgYXV0aHR5cGVzICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsveC9hdXRoL3R5cGVzJnF1b3Q7CgogICAgbW9kdWxldjEgJnF1b3Q7Z2l0aHViLmNvbS9hbGljZS9jaGVja2Vycy9hcGkvbW9kdWxlL3YxJnF1b3Q7CiAgICAmcXVvdDtnaXRodWIuY29tL2FsaWNlL2NoZWNrZXJzL2tlZXBlciZxdW90OwopCgp2YXIgXyBhcHBtb2R1bGUuQXBwTW9kdWxlID0gQXBwTW9kdWxle30KCi8vIElzT25lUGVyTW9kdWxlVHlwZSBpbXBsZW1lbnRzIHRoZSBkZXBpbmplY3QuT25lUGVyTW9kdWxlVHlwZSBpbnRlcmZhY2UuCmZ1bmMgKGFtIEFwcE1vZHVsZSkgSXNPbmVQZXJNb2R1bGVUeXBlKCkge30KCi8vIElzQXBwTW9kdWxlIGltcGxlbWVudHMgdGhlIGFwcG1vZHVsZS5BcHBNb2R1bGUgaW50ZXJmYWNlLgpmdW5jIChhbSBBcHBNb2R1bGUpIElzQXBwTW9kdWxlKCkge30KCmZ1bmMgaW5pdCgpIHsKICAgIGFwcG1vZHVsZS5SZWdpc3RlcigKICAgICAgICAmYW1wO21vZHVsZXYxLk1vZHVsZXt9LAogICAgICAgIGFwcG1vZHVsZS5Qcm92aWRlKFByb3ZpZGVNb2R1bGUpLAogICAgKQp9Cgp0eXBlIE1vZHVsZUlucHV0cyBzdHJ1Y3QgewogICAgZGVwaW5qZWN0LkluCgogICAgQ2RjICAgICAgICAgIGNvZGVjLkNvZGVjCiAgICBTdG9yZVNlcnZpY2Ugc3RvcmUuS1ZTdG9yZVNlcnZpY2UKICAgIEFkZHJlc3NDb2RlYyBhZGRyZXNzLkNvZGVjCgogICAgQ29uZmlnICptb2R1bGV2MS5Nb2R1bGUKfQoKdHlwZSBNb2R1bGVPdXRwdXRzIHN0cnVjdCB7CiAgICBkZXBpbmplY3QuT3V0CgogICAgTW9kdWxlIGFwcG1vZHVsZS5BcHBNb2R1bGUKICAgIEtlZXBlciBrZWVwZXIuS2VlcGVyCn0KCmZ1bmMgUHJvdmlkZU1vZHVsZShpbiBNb2R1bGVJbnB1dHMpIE1vZHVsZU91dHB1dHMgewogICAgLy8gZGVmYXVsdCB0byBnb3Zlcm5hbmNlIGFzIGF1dGhvcml0eSBpZiBub3QgcHJvdmlkZWQKICAgIGF1dGhvcml0eSA6PSBhdXRodHlwZXMuTmV3TW9kdWxlQWRkcmVzcygmcXVvdDtnb3YmcXVvdDspCiAgICBpZiBpbi5Db25maWcuQXV0aG9yaXR5ICE9ICZxdW90OyZxdW90OyB7CiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aHR5cGVzLk5ld01vZHVsZUFkZHJlc3NPckJlY2gzMkFkZHJlc3MoaW4uQ29uZmlnLkF1dGhvcml0eSkKICAgIH0KCiAgICBrIDo9IGtlZXBlci5OZXdLZWVwZXIoaW4uQ2RjLCBpbi5BZGRyZXNzQ29kZWMsIGluLlN0b3JlU2VydmljZSwgYXV0aG9yaXR5LlN0cmluZygpKQogICAgbSA6PSBOZXdBcHBNb2R1bGUoaW4uQ2RjLCBrKQoKICAgIHJldHVybiBNb2R1bGVPdXRwdXRze01vZHVsZTogbSwgS2VlcGVyOiBrfQp9Cg==",url:"https://github.com/b9lab/checkers-minimal/blob/module-files/module/depinject.go"}}),l._v(" "),e("p",[l._v("Fortunately it is possible to copy it.")])],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"autocli.go"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBtb2R1bGUKCmltcG9ydCAoCiAgICBhdXRvY2xpdjEgJnF1b3Q7Y29zbW9zc2RrLmlvL2FwaS9jb3Ntb3MvYXV0b2NsaS92MSZxdW90OwopCgovLyBBdXRvQ0xJT3B0aW9ucyBpbXBsZW1lbnRzIHRoZSBhdXRvY2xpLkhhc0F1dG9DTElDb25maWcgaW50ZXJmYWNlLgpmdW5jIChhbSBBcHBNb2R1bGUpIEF1dG9DTElPcHRpb25zKCkgKmF1dG9jbGl2MS5Nb2R1bGVPcHRpb25zIHsKICAgIHJldHVybiAmYW1wO2F1dG9jbGl2MS5Nb2R1bGVPcHRpb25zewogICAgICAgIFF1ZXJ5OiBuaWwsCiAgICAgICAgVHg6ICAgIG5pbCwKICAgIH0KfQo=",url:"https://github.com/b9lab/checkers-minimal/blob/module-files/module/autocli.go"}}),l._v(" "),e("p",[l._v("At the moment there are no commands to define, so it stays simple.")])],1)],1),l._v(" "),e("hr"),l._v(" "),e("p",[l._v("Once more, you need to run:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnbyBtb2QgdGlkeQo="}}),l._v(" "),e("p",[l._v("Your checkers module is not prepared as a standalone module. It is time to integrate it into "),e("code",[l._v("chain-minimal")]),l._v(".")]),l._v(" "),e("h2",{attrs:{id:"integrate-checkers-in-chain-minimal"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integrate-checkers-in-chain-minimal"}},[l._v("#")]),l._v(" Integrate checkers in "),e("code",[l._v("chain-minimal")])]),l._v(" "),e("p",[l._v("You now have to direct "),e("code",[l._v("chain-minimal")]),l._v(" to integrate your checkers module. Your checkers module is known with the "),e("code",[l._v("github.com/alice/checkers")]),l._v(" package, and located in a parallel folder.")]),l._v(" "),e("p",[l._v("Direct chain-minimal to the right dependency, so it does not look for the module on "),e("code",[l._v("github.com")]),l._v(". Go to your "),e("code",[l._v("go.mod")]),l._v(" and add:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff",base64:"Li4uCiAgICByZXBsYWNlICgKKyAgICAgIGdpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMgPSZndDsgLi4vY2hlY2tlcnMtbWluaW1hbC8KICAgICAgICAvLyBGaXggdXBzdHJlYW0gR0hTQS1oMzk1LXFjcnctNXZtcSB2dWxuZXJhYmlsaXR5LgouLi4K",url:"https://github.com/b9lab/chain-minimal/blob/with-module/go.mod#L8"}}),l._v(" "),e("p",[l._v("Now, you can define the module in the "),e("code",[l._v("app/app.yaml")]),l._v(" file in two locations:")]),l._v(" "),e("CodeGroup",[e("CodeGroupItem",{attrs:{title:"Name and type"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-yaml",base64:"ICAgIC4uLgogICAgLSBuYW1lOiB0eAogICAgICBjb25maWc6CiAgICAgICAgJnF1b3Q7QHR5cGUmcXVvdDs6IGNvc21vcy50eC5jb25maWcudjEuQ29uZmlnCisgIC0gbmFtZTogY2hlY2tlcnMKKyAgICBjb25maWc6CisgICAgICAmcXVvdDtAdHlwZSZxdW90OzogYWxpY2UuY2hlY2tlcnMubW9kdWxlLnYxLk1vZHVsZQogICAgLi4uCg==",url:"https://github.com/b9lab/chain-minimal/blob/with-module/app/app.yaml#L48-L50"}}),l._v(" "),e("p",[l._v("Where you recall the Protobuf "),e("code",[l._v("alice.checkers.module.v1.Module")]),l._v(" defined earlier:")])],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"Genesis"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-yaml",base64:"ICAgIC4uLgotICBpbml0X2dlbmVzaXM6IFthdXRoLCBiYW5rLCBkaXN0cmlidXRpb24sIHN0YWtpbmcsIGdlbnV0aWxdCisgIGluaXRfZ2VuZXNpczogW2F1dGgsIGJhbmssIGRpc3RyaWJ1dGlvbiwgc3Rha2luZywgZ2VudXRpbCwgY2hlY2tlcnNdCiAgICAuLi4K",url:"https://github.com/b9lab/chain-minimal/blob/with-module/app/app.yaml#L13"}}),l._v(" "),e("p",[l._v("This is done because its genesis needs to be called too.")])],1)],1),l._v(" "),e("hr"),l._v(" "),e("p",[l._v("What remains is to update "),e("code",[l._v("app/app.go")]),l._v(", where you place your checkers keeper at the right locations:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-go",base64:"ICAgIGltcG9ydCgKICAgICAgICAuLi4KKyAgICAgIGNoZWNrZXJza2VlcGVyICZxdW90O2dpdGh1Yi5jb20vYWxpY2UvY2hlY2tlcnMva2VlcGVyJnF1b3Q7CiAgICAgICAgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9iYXNlYXBwJnF1b3Q7CiAgICAgICAgLi4uCiAgICAgICAgXyAmcXVvdDtjb3Ntb3NzZGsuaW8vYXBpL2Nvc21vcy90eC9jb25maWcvdjEmcXVvdDsgICAgICAgICAgLy8gaW1wb3J0IGZvciBzaWRlLWVmZmVjdHMKKyAgICAgIF8gJnF1b3Q7Z2l0aHViLmNvbS9hbGljZS9jaGVja2Vycy9tb2R1bGUmcXVvdDsgICAgICAgICAgICAgIC8vIGltcG9ydCBmb3Igc2lkZS1lZmZlY3RzCiAgICAgICAgXyAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3gvYXV0aCZxdW90OyAgICAgICAgICAgLy8gaW1wb3J0IGZvciBzaWRlLWVmZmVjdHMKICAgICAgICAuLi4KICAgICkKICAgIC4uLgogICAgdHlwZSBNaW5pQXBwIHN0cnVjdCB7CiAgICAgICAgLi4uCiAgICAgICAgQ29uc2Vuc3VzUGFyYW1zS2VlcGVyIGNvbnNlbnN1c2tlZXBlci5LZWVwZXIKKyAgICAgIENoZWNrZXJzS2VlcGVyICAgICAgICBjaGVja2Vyc2tlZXBlci5LZWVwZXIKICAgICAgICAuLi4KICAgIH0KICAgIC4uLgogICAgZnVuYyBOZXdNaW5pQXBwKAogICAgICAgIC4uLgogICAgKSAoKk1pbmlBcHAsIGVycm9yKSB7CiAgICAgICAgLi4uCiAgICAgICAgaWYgZXJyIDo9IGRlcGluamVjdC5JbmplY3QoCiAgICAgICAgICAgIC4uLgogICAgICAgICAgICAmYW1wO2FwcC5Db25zZW5zdXNQYXJhbXNLZWVwZXIsCisgICAgICAgICAgJmFtcDthcHAuQ2hlY2tlcnNLZWVwZXIsCiAgICAgICAgKTsgZXJyICE9IG5pbCB7CiAgICAgICAgICAgIHJldHVybiBuaWwsIGVycgogICAgICAgIH0KICAgICAgICAuLi4KICAgIH0KICAgIC4uLgo=",url:"https://github.com/b9lab/chain-minimal/blob/with-module/app/app.go"}}),l._v(" "),e("p",[l._v("And that's about it. "),e("code",[l._v("depinject")]),l._v(" and the rest take care of initialization and runtime.")]),l._v(" "),e("HighlightBox",{attrs:{type:"note"}},[e("p",[l._v("The "),e("em",[l._v("side-effects")]),l._v(" comments refer to the "),e("code",[l._v("init()")]),l._v(" function of Go packages. If you omit the new empty "),e("code",[l._v("import")]),l._v(" call, the corresponding "),e("code",[l._v("init")]),l._v(" function will not be called. Because of that, your "),e("code",[l._v("alice.checkers.module.v1.Module")]),l._v(" Protobuf objects will not be known, which can lead to an unpleasant "),e("strong",[l._v("runtime")]),l._v(" error such as "),e("code",[l._v('unable to resolve "alice.checkers.module.v1.Module"')]),l._v(".")]),l._v(" "),e("p",[l._v("The missing object is only detected at runtime because its value is in "),e("code",[l._v("app.yaml")]),l._v(".")])]),l._v(" "),e("h2",{attrs:{id:"run-your-checkers-chain"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#run-your-checkers-chain"}},[l._v("#")]),l._v(" Run your checkers chain")]),l._v(" "),e("p",[l._v("Just like you did in the "),e("RouterLink",{attrs:{to:"/hands-on-exercise/0-native/1-preparation.html"}},[l._v("previous section")]),l._v(", you compile the minimal chain, re-initialize, and start it. You need to re-initialize because your genesis has changed:")],1),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBnbyBtb2QgdGlkeQokIG1ha2UgaW5zdGFsbAokIG1ha2UgaW5pdAokIG1pbmlkIHN0YXJ0Cg=="}}),l._v(" "),e("p",[l._v("There you have it: your minimal chain with a checkers module is running. After stopping it with "),e("kbd",[l._v("CTRL-C")]),l._v(", confirm that the checkers module was correctly integrated by calling up:")]),l._v(" "),e("CodeGroup",[e("CodeGroupItem",{attrs:{title:"Straight"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBtaW5pZCBleHBvcnQK"}})],1),l._v(" "),e("CodeGroupItem",{attrs:{title:"Clean"}},[e("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"JCBtaW5pZCBleHBvcnQgfCB0YWlsIC1uIDEgfCBqcQo="}})],1)],1),l._v(" "),e("p",[l._v("In there, you can find:")]),l._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"diff-json",base64:"ICAgIHsKICAgICAgICAuLi4KICAgICAgICAmcXVvdDthcHBfc3RhdGU6IHsKICAgICAgICAgICAgLi4uCisgICAgICAgICAgJnF1b3Q7Y2hlY2tlcnMmcXVvdDs6IHsKKyAgICAgICAgICAgICAgJnF1b3Q7cGFyYW1zJnF1b3Q7OiB7fQorICAgICAgICAgIH0sCiAgICAgICAgICAgIC4uLgogICAgICAgIH0KICAgIH0K"}}),l._v(" "),e("p",[l._v("This is as expected.")]),l._v(" "),e("h2",{attrs:{id:"up-next"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#up-next"}},[l._v("#")]),l._v(" Up next")]),l._v(" "),e("p",[l._v("Now that you have integrated your empty checkers module, it is time to make it interesting.")])],1)}),[],!1,null,null,null);c.default=t.exports}}]);